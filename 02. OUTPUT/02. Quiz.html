02. Quiz = 

"

<!DOCTYPE html>
<html lang='pl'>
<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>Quiz: Miary vs Kolumny kalkulowane</title>
    <style>
    * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }
    
            body {
                font-family: 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
                font-size: 16px;
                font-weight: 400;
                line-height: 1.7;
                color: #333;
                background: transparent;
                padding: 20px;
            }
    
            .container {
                max-width: 800px;
                margin: 0 auto;
                background: transparent;
                padding: 40px;
            }
    
            .navigation {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 40px;
                padding-bottom: 20px;
                border-bottom: 1px solid #e1e4e8;
            }
    
            button {
                background: #6b1718;
                color: white;
                border: none;
                padding: 12px 28px;
                border-radius: 4px;
                cursor: pointer;
                font-size: 1em;
                font-weight: 500;
                transition: background 0.2s;
            }
    
            button:hover {
                background: #380c0c;
            }
    
            button:disabled {
                background: #ccc;
                cursor: not-allowed;
            }
    
            .page-indicator {
                color: #666;
                font-size: 1em;
            }
    
            .page {
                display: none;
                min-height: 500px;
            }
    
            .page.active {
                display: block;
                animation: fadeIn 0.3s ease-in;
            }
    
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
            }
    
            h1 {
                font-size: 26px;
                line-height: 36px;
                font-weight: 600;
                padding-top: 14px;
                padding-bottom: 6px;
                margin-bottom: 1em;
                color: #6b1718;
                border-bottom: 2px solid #6b1718;
            }
    
            h2 {
                font-size: 26px;
                line-height: 36px;
                font-weight: 600;
                padding-top: 14px;
                padding-bottom: 6px;
                margin: 1.5em 0 0.8em 0;
                color: #1a1a1a;
                border-bottom: 2px solid #1a1a1a;
            }
    
            .question-box {
                background: #f8f9fa;
                border-left: 3px solid #6b1718;
                padding: 20px;
                margin: 1.5em 0;
                border-radius: 3px;
            }
    
            .question-box p {
                margin: 0;
                font-size: 1.05em;
                color: #1a1a1a;
            }
    
            .answers {
                margin-top: 1.5em;
            }
    
            .answer-option {
                background: white;
                border: 2px solid #e1e4e8;
                padding: 15px 20px;
                margin: 10px 0;
                border-radius: 4px;
                cursor: pointer;
                transition: all 0.2s;
                font-size: 1.05em;
            }
    
            .answer-option:hover {
                border-color: #6b1718;
                background: #fef5f5;
            }
    
            .answer-option.selected {
                border-color: #6b1718;
                background: #ffe5e6;
            }
    
            .answer-option.correct {
                border-color: #ccc;
                background: #d4edda;
            }
    
            .answer-option.incorrect {
                border-color: #b82b4e;
                background: #f8d7da;
            }
    
            .feedback {
                margin-top: 1.5em;
                padding: 15px 20px;
                border-radius: 4px;
                display: none;
                font-size: 1.05em;
            }
    
            .feedback.show {
                display: block;
            }
    
            .feedback.correct {
                background: #d4edda;
                border-left: 3px solid #28a745;
                color: #155724;
            }
    
            .feedback.incorrect {
                background: #f8d7da;
                border-left: 3px solid #b82b4e;
                color: #721c24;
            }
    
            .check-button {
                margin-top: 1.5em;
                background: #121212;
            }
    
            .check-button:hover:not(:disabled) {
                background: #111111;
            }
    
            .check-button:disabled {
                background: #ccc;
            }
    
            pre {
                background: #f8f9fa;
                border-left: 3px solid #6b1718;
                padding: 18px;
                margin: 1em 0;
                overflow-x: auto;
                border-radius: 3px;
            }
    
            code {
                font-family: 'Fira Code', 'Courier New', monospace;
                font-size: 0.95em;
                color: #b82b4e;
            }
    
            .score-box {
                background: #6b1718;
                color: white;
                padding: 20px;
                border-radius: 4px;
                text-align: center;
                font-size: 1.2em;
                margin-bottom: 2em;
            }
    
            .summary-item {
                background: #f8f9fa;
                padding: 15px;
                margin: 10px 0;
                border-radius: 4px;
                border-left: 3px solid #ccc;
            }
    
            .summary-item.correct {
                border-left-color: #28a745;
            }
    
            .summary-item.incorrect {
                border-left-color: #b82b4e;
            }
    
            strong {
                font-weight: 700;
                color: #1a1a1a;
            }
    
            p {
                margin-bottom: 1em;
            }
    </style>
</head>
<body>

<div class='container'>
    <!-- Nawigacja na górze -->
    <div class='navigation'>
        <button id='prevBtn' onclick='changePage(-1)'>← Poprzednia</button>
        <span class='page-indicator'>
            Pytanie <span id='currentPage'>1</span> z <span id='totalPages'>8</span>
        </span>
        <button id='nextBtn' onclick='changePage(1)'>Następna →</button>
    </div>

    <!-- Pytanie 1 -->
    <div class='page active'>
        <h1>Pytanie 1</h1>
        <div class='question-box'>
            <p><strong>Kiedy są obliczane kolumny kalkulowane?</strong></p>
        </div>
        <div class='answers'>
            <div class='answer-option' onclick='selectAnswer(0, 0)'>
                A) Przy każdym odświeżeniu wizualizacji
            </div>
            <div class='answer-option' onclick='selectAnswer(0, 1)'>
                B) Tylko raz przy ładowaniu danych
            </div>
            <div class='answer-option' onclick='selectAnswer(0, 2)'>
                C) Gdy użytkownik zmieni filtr
            </div>
            <div class='answer-option' onclick='selectAnswer(0, 3)'>
                D) W momencie tworzenia raportu
            </div>
        </div>
        <button class='check-button' onclick='checkAnswer(0, 1)'>Sprawdź odpowiedź</button>
        <div class='feedback' id='feedback-0'></div>
    </div>

    <!-- Pytanie 2 -->
    <div class='page'>
        <h1>Pytanie 2</h1>
        <div class='question-box'>
            <p><strong>Kiedy są obliczane miary (measures)?</strong></p>
        </div>
        <div class='answers'>
            <div class='answer-option' onclick='selectAnswer(1, 0)'>
                A) Tylko raz przy ładowaniu danych
            </div>
            <div class='answer-option' onclick='selectAnswer(1, 1)'>
                B) Dynamicznie przy każdym odświeżeniu wizualizacji
            </div>
            <div class='answer-option' onclick='selectAnswer(1, 2)'>
                C) Co godzinę automatycznie
            </div>
            <div class='answer-option' onclick='selectAnswer(1, 3)'>
                D) Nigdy - są predefiniowane
            </div>
        </div>
        <button class='check-button' onclick='checkAnswer(1, 1)'>Sprawdź odpowiedź</button>
        <div class='feedback' id='feedback-1'></div>
    </div>

    <!-- Pytanie 3 -->
    <div class='page'>
        <h1>Pytanie 3</h1>
        <div class='question-box'>
            <p><strong>Która struktura zajmuje więcej miejsca w pamięci?</strong></p>
        </div>
        <div class='answers'>
            <div class='answer-option' onclick='selectAnswer(2, 0)'>
                A) Miary
            </div>
            <div class='answer-option' onclick='selectAnswer(2, 1)'>
                B) Kolumny kalkulowane
            </div>
            <div class='answer-option' onclick='selectAnswer(2, 2)'>
                C) Obie zajmują tyle samo
            </div>
            <div class='answer-option' onclick='selectAnswer(2, 3)'>
                D) Zależy od typu danych
            </div>
        </div>
        <button class='check-button' onclick='checkAnswer(2, 1)'>Sprawdź odpowiedź</button>
        <div class='feedback' id='feedback-2'></div>
    </div>

    <!-- Pytanie 4 -->
    <div class='page'>
        <h1>Pytanie 4</h1>
        <div class='question-box'>
            <p><strong>Czy w kolumnie kalkulowanej możesz użyć funkcji agregujących jak SUM()?</strong></p>
        </div>
        <div class='answers'>
            <div class='answer-option' onclick='selectAnswer(3, 0)'>
                A) Tak, bez ograniczeń
            </div>
            <div class='answer-option' onclick='selectAnswer(3, 1)'>
                B) Nie, to spowoduje błąd
            </div>
            <div class='answer-option' onclick='selectAnswer(3, 2)'>
                C) Tak, ale musisz użyć funkcji iteracyjnych jak SUMX()
            </div>
            <div class='answer-option' onclick='selectAnswer(3, 3)'>
                D) Tylko w połączeniu z CALCULATE
            </div>
        </div>
        <button class='check-button' onclick='checkAnswer(3, 2)'>Sprawdź odpowiedź</button>
        <div class='feedback' id='feedback-3'></div>
    </div>

    <!-- Pytanie 5 -->
    <div class='page'>
        <h1>Pytanie 5</h1>
        <div class='question-box'>
            <p><strong>Jaki kontekst domyślnie działa w miarach?</strong></p>
        </div>
        <div class='answers'>
            <div class='answer-option' onclick='selectAnswer(4, 0)'>
                A) Kontekst wiersza
            </div>
            <div class='answer-option' onclick='selectAnswer(4, 1)'>
                B) Kontekst filtru
            </div>
            <div class='answer-option' onclick='selectAnswer(4, 2)'>
                C) Kontekst całej tabeli
            </div>
            <div class='answer-option' onclick='selectAnswer(4, 3)'>
                D) Brak kontekstu
            </div>
        </div>
        <button class='check-button' onclick='checkAnswer(4, 1)'>Sprawdź odpowiedź</button>
        <div class='feedback' id='feedback-4'></div>
    </div>

    <!-- Pytanie 6 -->
    <div class='page'>
        <h1>Pytanie 6</h1>
        <div class='question-box'>
            <p><strong>Czy możesz użyć miary w formule kolumny kalkulowanej?</strong></p>
        </div>
        <div class='answers'>
            <div class='answer-option' onclick='selectAnswer(5, 0)'>
                A) Tak, zawsze
            </div>
            <div class='answer-option' onclick='selectAnswer(5, 1)'>
                B) Nie, to niemożliwe
            </div>
            <div class='answer-option' onclick='selectAnswer(5, 2)'>
                C) Tak, ale wartość miary będzie obliczona w kontekście wiersza
            </div>
            <div class='answer-option' onclick='selectAnswer(5, 3)'>
                D) Tylko w funkcji CALCULATE
            </div>
        </div>
        <button class='check-button' onclick='checkAnswer(5, 2)'>Sprawdź odpowiedź</button>
        <div class='feedback' id='feedback-5'></div>
    </div>

    <!-- Pytanie 7 -->
    <div class='page'>
        <h1>Pytanie 7</h1>
        <div class='question-box'>
            <p><strong>Co jest lepszym wyborem dla obliczeń, które muszą reagować na filtry użytkownika?</strong></p>
        </div>
        <div class='answers'>
            <div class='answer-option' onclick='selectAnswer(6, 0)'>
                A) Kolumna kalkulowana
            </div>
            <div class='answer-option' onclick='selectAnswer(6, 1)'>
                B) Miara
            </div>
            <div class='answer-option' onclick='selectAnswer(6, 2)'>
                C) Obie są równie dobre
            </div>
            <div class='answer-option' onclick='selectAnswer(6, 3)'>
                D) Kolumna fizyczna w źródle danych
            </div>
        </div>
        <button class='check-button' onclick='checkAnswer(6, 1)'>Sprawdź odpowiedź</button>
        <div class='feedback' id='feedback-6'></div>
    </div>

    <!-- Podsumowanie quizu -->
    <div class='page'>
        <h1>Podsumowanie quizu</h1>
        <div class='score-box' id='finalScore'>
            Twój wynik: <span id='scoreText'>0/7</span> (<span id='percentText'>0%</span>)
        </div>
        <div id='summaryContent'></div>
        <button onclick='restartQuiz()' style='margin-top: 20px; width: 100%;'> Rozpocznij quiz od nowa</button>
    </div>
</div>

<script>
    let currentPage = 1;
    const totalPages = 8;
    const totalQuestions = 7;
    
    const userAnswers = new Array(totalQuestions).fill(null);
    const answeredQuestions = new Array(totalQuestions).fill(false);
    
    const correctAnswers = [1, 1, 1, 2, 1, 2, 1];
    
    const explanations = [
        'Prawidłowa odpowiedź: B. Kolumny kalkulowane są obliczane tylko raz - podczas ładowania lub odświeżania danych. Ich wartości są przechowywane w modelu danych.',
        'Prawidłowa odpowiedź: B. Miary są obliczane dynamicznie przy każdym odświeżeniu wizualizacji, reagując na aktualny kontekst filtrów i wyboru użytkownika.',
        'Prawidłowa odpowiedź: B. Kolumny kalkulowane przechowują wartość dla każdego wiersza w tabeli, co zajmuje pamięć. Miary nie przechowują danych - obliczają wyniki na żądanie.',
        'Prawidłowa odpowiedź: C. W kolumnach kalkulowanych musisz używać funkcji iteracyjnych (SUMX, AVERAGEX) zamiast zwykłych funkcji agregujących (SUM, AVERAGE), ponieważ kontekst wiersza wymaga iteracji.',
        'Prawidłowa odpowiedź: B. Miary domyślnie działają w kontekście filtru, reagując na filtry nałożone przez wizualizacje, slicery i inne filtry w raporcie.',
        'Prawidłowa odpowiedź: C. Możesz użyć miary w kolumnie kalkulowanej, ale miara będzie obliczona w kontekście wiersza dla każdego wiersza osobno.',
        'Prawidłowa odpowiedź: B. Miary są dynamiczne i automatycznie reagują na zmiany filtrów, co czyni je idealnym wyborem dla obliczeń zależnych od kontekstu użytkownika.'
    ];
    
    document.getElementById('totalPages').textContent = totalPages;
    
        function selectAnswer(questionIndex, answerIndex) {
            if (answeredQuestions[questionIndex]) return;
    
            const answers = document.querySelectorAll('.page')[questionIndex].querySelectorAll('.answer-option');
            answers.forEach(a => a.classList.remove('selected'));
            answers[answerIndex].classList.add('selected');
            userAnswers[questionIndex] = answerIndex;
        }
    
        function checkAnswer(questionIndex, correctIndex) {
            if (answeredQuestions[questionIndex]) return;
    
            const answers = document.querySelectorAll('.page')[questionIndex].querySelectorAll('.answer-option');
            const feedback = document.getElementById('feedback-' + questionIndex);
            const checkBtn = document.querySelectorAll('.page')[questionIndex].querySelector('.check-button');
    
            if (userAnswers[questionIndex] === null) {
                feedback.className = 'feedback show incorrect';
                feedback.textContent = 'Proszę najpierw wybrać odpowiedź!';
                return;
            }
    
            answeredQuestions[questionIndex] = true;
            checkBtn.disabled = true;
    
            const isCorrect = userAnswers[questionIndex] === correctIndex;
    
            answers.forEach((answer, index) => {
                answer.style.cursor = 'default';
                if (index === correctIndex) {
                    answer.classList.add('correct');
                } else if (index === userAnswers[questionIndex]) {
                    answer.classList.add('incorrect');
                }
            });
    
            feedback.className = 'feedback show ' + (isCorrect ? 'correct' : 'incorrect');
            feedback.innerHTML = (isCorrect ? '✅ Świetnie! ' : '❌ Nieprawidłowo. ') + explanations[questionIndex];
    
            if (questionIndex < totalQuestions - 1) {
                setTimeout(() => {
                    changePage(1);
                }, 2500);
            } else {
                setTimeout(() => {
                    showSummary();
                    changePage(1);
                }, 2500);
            }
        }
    
        function showSummary() {
            let correctCount = 0;
            for (let i = 0; i < totalQuestions; i++) {
                if (userAnswers[i] === correctAnswers[i]) {
                    correctCount++;
                }
            }
    
            const percentage = Math.round((correctCount / totalQuestions) * 100);
            document.getElementById('scoreText').textContent = correctCount + '/' + totalQuestions;
            document.getElementById('percentText').textContent = percentage + '%';
    
            let summaryHTML = '<h2>Szczegóły odpowiedzi:</h2>';
            for (let i = 0; i < totalQuestions; i++) {
                const isCorrect = userAnswers[i] === correctAnswers[i];
                summaryHTML += `
                    <div class='summary-item ${isCorrect ? 'correct' : 'incorrect'}'>
                        <strong>Pytanie ${i + 1}:</strong> ${isCorrect ? '✅ Poprawnie' : '❌ Niepoprawnie'}<br>
                        <small>${explanations[i]}</small>
                    </div>
                `;
            }
    
            document.getElementById('summaryContent').innerHTML = summaryHTML;
        }
    
        function restartQuiz() {
            userAnswers.fill(null);
            answeredQuestions.fill(false);
            currentPage = 1;
    
            document.querySelectorAll('.page').forEach((page, index) => {
                if (index < totalQuestions) {
                    const answers = page.querySelectorAll('.answer-option');
                    answers.forEach(a => {
                        a.className = 'answer-option';
                        a.style.cursor = 'pointer';
                    });
                    const feedback = page.querySelector('.feedback');
                    feedback.className = 'feedback';
                    const checkBtn = page.querySelector('.check-button');
                    checkBtn.disabled = false;
                }
            });
    
            showPage(1);
        }
    
        function showPage(n) {
            const pages = document.querySelectorAll('.page');
    
            if (n > totalPages) currentPage = totalPages;
            if (n < 1) currentPage = 1;
    
            pages.forEach(page => page.classList.remove('active'));
            pages[currentPage - 1].classList.add('active');
    
            document.getElementById('currentPage').textContent = currentPage;
            document.getElementById('prevBtn').disabled = currentPage === 1;
            document.getElementById('nextBtn').disabled = currentPage === totalPages;
    
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    
        function changePage(n) {
            currentPage += n;
            showPage(currentPage);
        }
    
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowLeft') changePage(-1);
            if (e.key === 'ArrowRight') changePage(1);
        });
    
        showPage(1);
</script>

</body>
</html>

"
