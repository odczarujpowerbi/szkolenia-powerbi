CROSSFILTER = 

"

<!DOCTYPE html>
<html lang='pl'>
<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>CROSSFILTER</title>
</head>
<body>

<div class='container' id='viz_06e680c7'>
    <!-- Nawigacja na górze -->
    <div class='navigation'>
        <button id='prevBtn_06e680c7' onclick='changePage_06e680c7(-1)'>← Poprzednia</button>
        <span class='page-indicator'>
            Strona <span id='currentPage_06e680c7'>1</span> z <span id='totalPages_06e680c7'>2</span>
        </span>
        <button id='nextBtn_06e680c7' onclick='changePage_06e680c7(1)'>Następna →</button>
    </div>

    <!-- Strona 1 -->
    <div class='page active'>
        <p>Umożliwia tymczasową zmianę kierunku filtrowania relacji w kontekście danego wyrażenia DAX.</p>
        <pre><code><span class='dax-function'>CROSSFILTER</span>(&lt;columnName1&gt;, &lt;columnName2&gt;, &lt;direction&gt;)</code></pre>
        <ul>
        <li><code>Both</code> — filtrowanie dwukierunkowe (filtry przechodzą w obu kierunkach, domyślnie jest jednokierunkowe).</li>
        <li><code>None</code> — wyłącza filtrowanie między tabelami.</li>
        <li><code>OneWay</code> — jednokierunkowe filtrowanie z Column1 do Column2 (domyślnie).</li>
        <li><code>OneWayReverse</code> — jednokierunkowe filtrowanie z Column2 do Column1.</li>
        </ul>
        <pre><code>Filtruj w obie strony = 
        	<span class='dax-function'>CALCULATE</span>(
        		[Distinct Count of ProductKey],
        		 <span class='dax-function'>CROSSFILTER</span>(
        			FactInternetfSprzedaż[ProductKey],
        			DimProduct[ProductKey],
        			Both
        		)
        	)</code></pre>

    </div>

    <!-- Strona 2 -->
    <div class='page'>
        <h1>Zastosowanie</h1>
        <p>Funkcja CROSSFILTER służy do dynamicznego modyfikowania kierunku przepływu filtru między tabelami w ramach pojedynczej miary lub wyrażenia DAX, bez konieczności zmiany ustawień relacji w modelu danych. Jest szczególnie przydatna, gdy standardowy kierunek filtrowania relacji nie wystarcza do osiągnięcia zamierzonego wyniku analitycznego, ale nie chcemy na stałe zmieniać modelu (np. włączać dwukierunkowego filtrowania wszędzie, co mogłoby pogorszyć wydajność).</p>
        <img src='https://github.com/odczarujpowerbi/szkolenia-powerbi/blob/main/bin/Pasted%20image%2020251210001950.png?raw=true' width='100%'>
        <p><strong>Typowe zastosowania:</strong></p>
        <ul>
        <li>Tymczasowe włączenie filtrowania dwukierunkowego dla specyficznych obliczeń</li>
        <li>Całkowite wyłączenie filtrowania między tabelami w kontekście danej miary</li>
        <li>Odwrócenie kierunku filtrowania relacji dla konkretnych analiz</li>
        </ul>
        <p>---</p>

    </div>

</div>

<script>
(function() {
    // Unikalny ID dla tej wizualizacji (wstrzykiwany przez Python)
    var vizId = '06e680c7';
    var containerId = 'viz_' + vizId;

    var currentPage_06e680c7 = 1;
    var container = document.getElementById(containerId);

    if (!container) return;

    var pages = container.querySelectorAll('.page');
    var totalPages = pages.length;

    document.getElementById('totalPages_' + vizId).textContent = totalPages;

    window['showPage_06e680c7'] = function(n) {
        if (n > totalPages) currentPage_06e680c7 = totalPages;
        if (n < 1) currentPage_06e680c7 = 1;

        for (var i = 0; i < pages.length; i++) {
            pages[i].classList.remove('active');
        }
        pages[currentPage_06e680c7 - 1].classList.add('active');

        document.getElementById('currentPage_' + vizId).textContent = currentPage_06e680c7;
        document.getElementById('prevBtn_' + vizId).disabled = (currentPage_06e680c7 === 1);
        document.getElementById('nextBtn_' + vizId).disabled = (currentPage_06e680c7 === totalPages);
    };

    window['changePage_06e680c7'] = function(n) {
        currentPage_06e680c7 += n;
        window['showPage_06e680c7'](currentPage_06e680c7);
    };

    // Inicjalizacja
    window['showPage_06e680c7'](1);

    // Funkcjonalność powiększania obrazów
    var images = container.querySelectorAll('img');
    images.forEach(function(img) {
        img.style.cursor = 'pointer';
        img.style.transition = 'transform 0.3s ease';

        img.addEventListener('click', function() {
            if (this.classList.contains('zoomed')) {
                // Pomniejsz obraz
                this.classList.remove('zoomed');
                this.style.position = '';
                this.style.top = '';
                this.style.left = '';
                this.style.transform = '';
                this.style.width = '100%';
                this.style.maxWidth = '';
                this.style.maxHeight = '';
                this.style.zIndex = '';
                this.style.backgroundColor = '';
                this.style.padding = '';
                this.style.boxShadow = '';
            } else {
                // Powiększ obraz
                this.classList.add('zoomed');
                this.style.position = 'fixed';
                this.style.top = '50%';
                this.style.left = '50%';
                this.style.transform = 'translate(-50%, -50%)';
                this.style.width = 'auto';
                this.style.maxWidth = '95vw';
                this.style.maxHeight = '95vh';
                this.style.zIndex = '9999';
                this.style.backgroundColor = 'rgba(255, 255, 255, 0.95)';
                this.style.padding = '10px';
                this.style.boxShadow = '0 4px 20px rgba(0, 0, 0, 0.3)';
            }
        });
    });
})();
</script>

</body>
</html>

"
